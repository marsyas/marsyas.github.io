<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Marsyas: stage&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Marsyas
   &#160;<span id="projectnumber">0.5.0-beta1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceMarsyas.html">Marsyas</a></li><li class="navelem"><a class="el" href="namespaceMarsyas_1_1RealTime.html">RealTime</a></li><li class="navelem"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html">stage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">stage&lt; T &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__NotmarCore.html">Core classes which are not MarSystems</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Thread-safe lock-free exchange of large data.  
 <a href="classMarsyas_1_1RealTime_1_1stage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="stage_8h_source.html">stage.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a94c484819f66b605343298653d4b1d07"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a94c484819f66b605343298653d4b1d07">back</a> ()</td></tr>
<tr class="separator:a94c484819f66b605343298653d4b1d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5857a9eb8d1b404574b25eb6d79f848"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#ae5857a9eb8d1b404574b25eb6d79f848">clear</a> (const T &amp;initial_value=T())</td></tr>
<tr class="memdesc:ae5857a9eb8d1b404574b25eb6d79f848"><td class="mdescLeft">&#160;</td><td class="mdescRight">NOT THREAD-SAFE.  <a href="#ae5857a9eb8d1b404574b25eb6d79f848">More...</a><br/></td></tr>
<tr class="separator:ae5857a9eb8d1b404574b25eb6d79f848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d9a449187445866021859f0cf708d0"><td class="memItemLeft" align="right" valign="top">T &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a55d9a449187445866021859f0cf708d0">front</a> ()</td></tr>
<tr class="separator:a55d9a449187445866021859f0cf708d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4c5ff42b13a3e20d972ff4f292cf3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#aee4c5ff42b13a3e20d972ff4f292cf3c">has_front</a> () const </td></tr>
<tr class="separator:aee4c5ff42b13a3e20d972ff4f292cf3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312e7f6c761a199c1369fbe651e084f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a312e7f6c761a199c1369fbe651e084f0">pop</a> ()</td></tr>
<tr class="separator:a312e7f6c761a199c1369fbe651e084f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98b45e0a7ed122b6710df00209b67827"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a98b45e0a7ed122b6710df00209b67827">push</a> ()</td></tr>
<tr class="separator:a98b45e0a7ed122b6710df00209b67827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b5919e5188e2ef4c156bcf35a1f15d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#af2b5919e5188e2ef4c156bcf35a1f15d">stage</a> (const T &amp;initial_value=T())</td></tr>
<tr class="separator:af2b5919e5188e2ef4c156bcf35a1f15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br/>
class Marsyas::RealTime::stage&lt; T &gt;</h3>

<p>Thread-safe lock-free exchange of large data. </p>
<dl class="section author"><dt>Author</dt><dd>Jakob Leben <a href="#" onclick="location.href='mai'+'lto:'+'jak'+'ob'+'.le'+'be'+'n@g'+'ma'+'il.'+'co'+'m'; return false;">jakob<span style="display: none;">.nosp@m.</span>.leb<span style="display: none;">.nosp@m.</span>en@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a></dd></dl>
<p>This class facilitates lock-free exchange of large data between a single producer thread and a single consumer thread, in a functionaly similar manner to an atomic variable. . It is ensured that the producer can always write new data (never needs to wait), and that the consumer always sees the latest data, but some data may be lost if it is not consumed before more data is produced.</p>
<p>The class holds an internal array of 3 instances of the template parameter type. A reference to one of them is provided to the consumer and another one to the producer. The third data space is used for exchange - it is a kind of staging area: when the producer is finished writing to its space, it uses <a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a98b45e0a7ed122b6710df00209b67827">push()</a> to exchange that space with the staging space, and when the consumer is finished using its space it uses <a class="el" href="classMarsyas_1_1RealTime_1_1stage.html#a312e7f6c761a199c1369fbe651e084f0">pop()</a> to exchange it with the staging space.</p>
<p>By only exchanging references to data, data types of any complexity and size can be passed between threads in a lock-free manner, at the cost of keeping 3 times the size of the individual data space. </p>

<p>Definition at line <a class="el" href="stage_8h_source.html#l00057">57</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af2b5919e5188e2ef4c156bcf35a1f15d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMarsyas_1_1RealTime_1_1stage.html">stage</a> </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>initial_value</em> = <code>T()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00072">72</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a94c484819f66b605343298653d4b1d07"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T&amp; back </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00092">92</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae5857a9eb8d1b404574b25eb6d79f848"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void clear </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>initial_value</em> = <code>T()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NOT THREAD-SAFE. </p>

<p>Definition at line <a class="el" href="stage_8h_source.html#l00083">83</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<a class="anchor" id="a55d9a449187445866021859f0cf708d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T&amp; front </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00108">108</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<a class="anchor" id="aee4c5ff42b13a3e20d972ff4f292cf3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool has_front </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00103">103</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<a class="anchor" id="a312e7f6c761a199c1369fbe651e084f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void pop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00115">115</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<a class="anchor" id="a98b45e0a7ed122b6710df00209b67827"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void push </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="stage_8h_source.html#l00097">97</a> of file <a class="el" href="stage_8h_source.html">stage.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/jakob/programming/marsyas/src/marsyas/realtime/<a class="el" href="stage_8h_source.html">stage.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 17 2014 12:55:24 for Marsyas by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
