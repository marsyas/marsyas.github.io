<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Marsyas: /home/jakob/programming/marsyas/src/marsyas/sched/TmTimerManager.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Marsyas
   &#160;<span id="projectnumber">0.5.0-beta1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_6680c0e66a1a8ddee45eaed69a14f44a.html">marsyas</a></li><li class="navelem"><a class="el" href="dir_886b2a9171621d5191c8c181c1e33b09.html">sched</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">TmTimerManager.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="TmTimerManager_8h_source.html">marsyas/sched/TmTimerManager.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="TmRealTime_8h_source.html">TmRealTime.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="TmVirtualTime_8h_source.html">TmVirtualTime.h</a>&quot;</code><br/>
</div>
<p><a href="TmTimerManager_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a90fe6fe4db312e8a1753dd03349b86cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TmTimerManager_8cpp.html#a90fe6fe4db312e8a1753dd03349b86cf">registerTimer</a>(_NAME)&#160;&#160;&#160;registry_[#_NAME] = new Make##_NAME();</td></tr>
<tr class="separator:a90fe6fe4db312e8a1753dd03349b86cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade33a50add0d7b2d8f073dd910d61a09"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="TmTimerManager_8cpp.html#ade33a50add0d7b2d8f073dd910d61a09">TimerCreateWrapper</a>(_NAME)</td></tr>
<tr class="separator:ade33a50add0d7b2d8f073dd910d61a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a90fe6fe4db312e8a1753dd03349b86cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define registerTimer</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_NAME</td><td>)</td>
          <td>&#160;&#160;&#160;registry_[#_NAME] = new Make##_NAME();</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="TmTimerManager_8cpp_source.html#l00043">43</a> of file <a class="el" href="TmTimerManager_8cpp_source.html">TmTimerManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ade33a50add0d7b2d8f073dd910d61a09"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TimerCreateWrapper</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">_NAME</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span>Make##_NAME : <span class="keyword">public</span> <a class="code" href="structMarsyas_1_1MakeTimer.html">MakeTimer</a> { \</div>
<div class="line">        Make##_NAME() {}; ~Make##_NAME() {}; \</div>
<div class="line">        TmTimer* <a class="code" href="structMarsyas_1_1MakeTimer.html#a3f4366f59d766415ea8fb7964ea6f4b4">make</a>(std::string ident) { <span class="keywordflow">return</span> <span class="keyword">new</span> _NAME (ident); }; \</div>
<div class="line">    }</div>
<div class="ttc" id="structMarsyas_1_1MakeTimer_html_a3f4366f59d766415ea8fb7964ea6f4b4"><div class="ttname"><a href="structMarsyas_1_1MakeTimer.html#a3f4366f59d766415ea8fb7964ea6f4b4">Marsyas::MakeTimer::make</a></div><div class="ttdeci">virtual TmTimer * make(std::string)=0</div></div>
<div class="ttc" id="structMarsyas_1_1MakeTimer_html"><div class="ttname"><a href="structMarsyas_1_1MakeTimer.html">Marsyas::MakeTimer</a></div><div class="ttdef"><b>Definition:</b> <a href="TmTimerManager_8h_source.html#l00055">TmTimerManager.h:55</a></div></div>
</div><!-- fragment --><p>Adding new Timers: New timers are added by first making them... Basically, a map is created from "TimerName"=&gt;TimerConstructorObject. This makes it possible to use a map for fast access to specific timers and it prevents having to instantiate each Timer type. The constructor object simply wraps the new operator so that it constructs objects only when requested.</p>
<ol type="1">
<li>Add the timer's include file.</li>
<li>Wrap the object using the macro: <a class="el" href="TmTimerManager_8cpp.html#ade33a50add0d7b2d8f073dd910d61a09">TimerCreateWrapper(TmSomeTimerName)</a>;</li>
<li>Register the timer in the map: in function TmTimerManager::addTimers() add the line <a class="el" href="TmTimerManager_8cpp.html#a90fe6fe4db312e8a1753dd03349b86cf">registerTimer(TmSomeTimerName)</a>; </li>
</ol>

<p>Definition at line <a class="el" href="TmTimerManager_8cpp_source.html#l00038">38</a> of file <a class="el" href="TmTimerManager_8cpp_source.html">TmTimerManager.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 17 2014 12:55:22 for Marsyas by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
